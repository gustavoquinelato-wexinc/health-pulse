# Hackathon Stakeholder Requirements - BEX Project Focus

## Executive Summary

This document outlines the specific questions our stakeholders (software development managers) want answered, focusing exclusively on the **BEX project** data. We analyze our current architecture capabilities and define the implementation strategy for targeted LangGraph agents.

## Stakeholder Requirements Analysis

### 1. Areas of Application Sensitivity & Complexity

**Core Question**: *Which parts of the BEX project are more sensitive, complex, or problematic?*

**Sub-Questions We Can Answer**:
- Which BEX components have the highest bug density?
- Which areas require the most rework after code reviews?
- Which BEX features consistently need post-release fixes?
- Where are BEX developers spending most of their time?
- Which BEX repositories have the highest change frequency?

**Data Sources Available**:
- Issues table (filtered by project key = 'BEX')
- Pull requests linked to BEX issues
- Pull request reviews and comments
- Repository change patterns
- Issue changelogs for rework tracking

### 2. Corporate Outcomes Visibility

**Core Question**: *What progress are we making on key BEX project outcomes?*

**Sub-Questions We Can Answer**:
- What is BEX's Product Innovation Velocity (Epic lead time)?
- How is BEX project trending toward completion?
- What is the test coverage trend for BEX repositories?
- How are BEX teams adopting AI tools?
- What percentage of BEX APIs follow OpenAPI standards?

**Data Sources Available**:
- Epic completion tracking through issues
- Pull request test coverage comments
- Repository API compliance patterns
- Team productivity metrics

## Implementation Strategy

### Architecture Decision: Specialized GUS Endpoints

Instead of one generic endpoint, we'll create **specialized endpoints** for maximum accuracy:

1. `gus_bex_complexity_analysis` - For sensitivity/complexity questions
2. `gus_bex_progress_tracking` - For corporate outcomes visibility
3. `gus_bex_risk_assessment` - For risk and mitigation analysis

### LangGraph Agent Enhancements

**Required Filters**:
```sql
-- All queries must include BEX project filtering
WHERE p.key = 'BEX' AND p.client_id = :client_id AND p.active = true
```

**Enhanced Context Awareness**:
- BEX-specific data sampling
- Repository-level granularity
- Time-series analysis for trends
- Cross-team collaboration patterns

## Answerable Questions (BEX Project Only)

### Category 1: Complexity & Risk Analysis

1. **"Which BEX components have the highest defect rates?"**
   - Data: Issues with issuetype = 'Bug' + project = 'BEX'
   - Endpoint: `gus_bex_complexity_analysis`

2. **"Which BEX areas require the most rework after code reviews?"**
   - Data: Pull request review comments + rework commits
   - Endpoint: `gus_bex_complexity_analysis`

3. **"Which BEX features consistently need post-release fixes?"**
   - Data: Issues created after release dates + cherry-pick patterns
   - Endpoint: `gus_bex_complexity_analysis`

4. **"Where are BEX developers spending most of their time?"**
   - Data: Issue resolution times + story points + assignee patterns
   - Endpoint: `gus_bex_complexity_analysis`

### Category 2: Progress & Outcomes

5. **"What is BEX's Product Innovation Velocity?"**
   - Data: Epic lead times (created to completed)
   - Endpoint: `gus_bex_progress_tracking`

6. **"How is BEX project trending toward completion?"**
   - Data: Epic completion rates + remaining backlog
   - Endpoint: `gus_bex_progress_tracking`

7. **"What is BEX's test coverage trend?"**
   - Data: Pull request test coverage comments
   - Endpoint: `gus_bex_progress_tracking`

8. **"How are BEX teams adopting AI tools?"**
   - Data: Pull request patterns + commit message analysis
   - Endpoint: `gus_bex_progress_tracking`

### Category 3: Team & Process Analysis

9. **"Which BEX teams are most productive?"**
   - Data: Team velocity + story points completed
   - Endpoint: `gus_bex_complexity_analysis`

10. **"What are BEX's biggest development bottlenecks?"**
    - Data: Issue status transitions + cycle times
    - Endpoint: `gus_bex_risk_assessment`

## Data Filtering Strategy

### Core Join Pattern
```sql
SELECT ...
FROM projects p
JOIN issues i ON p.id = i.project_id
LEFT JOIN jira_pull_request_links jpl ON i.id = jpl.issue_id
LEFT JOIN pull_requests pr ON jpl.external_repo_id = pr.external_repo_id 
    AND jpl.pull_request_number = pr.number
WHERE p.key = 'BEX' 
    AND p.client_id = :client_id 
    AND p.active = true
    AND i.active = true
    AND (pr.id IS NULL OR pr.active = true)
```

### Repository-Level Analysis
```sql
SELECT DISTINCT r.name as repository_name, ...
FROM projects p
JOIN issues i ON p.id = i.project_id
JOIN jira_pull_request_links jpl ON i.id = jpl.issue_id
JOIN pull_requests pr ON jpl.external_repo_id = pr.external_repo_id
JOIN repositories r ON pr.repository_id = r.id
WHERE p.key = 'BEX' AND r.active = true
```

## Frontend Integration

### Chat Interface Updates

Replace current suggested prompts with BEX-focused questions:

```javascript
export const getBEXSuggestedPrompts = () => {
  return [
    {
      title: "BEX Complexity Analysis",
      prompt: "Which BEX components have the highest defect rates and require the most maintenance effort?",
      category: "complexity",
      endpoint: "gus_bex_complexity_analysis"
    },
    {
      title: "BEX Progress Tracking", 
      prompt: "What is BEX's Product Innovation Velocity and how are we trending toward project completion?",
      category: "progress",
      endpoint: "gus_bex_progress_tracking"
    },
    {
      title: "BEX Risk Assessment",
      prompt: "What are the biggest development bottlenecks in the BEX project and how can we address them?",
      category: "risk", 
      endpoint: "gus_bex_risk_assessment"
    },
    {
      title: "BEX Team Performance",
      prompt: "Which BEX teams are most productive and where should we focus improvement efforts?",
      category: "team",
      endpoint: "gus_bex_complexity_analysis"
    },
    {
      title: "BEX Quality Metrics",
      prompt: "What is BEX's test coverage trend and how are teams adopting quality practices?",
      category: "quality",
      endpoint: "gus_bex_progress_tracking"
    }
  ]
}
```

## Implementation Phases

### Phase 1: Core BEX Filtering (Week 1)
- Implement BEX project filtering in all queries
- Create specialized endpoints
- Update LangGraph agents with BEX context

### Phase 2: Complexity Analysis (Week 2)
- Defect rate analysis
- Rework pattern detection
- Time investment tracking

### Phase 3: Progress Tracking (Week 3)
- PIV calculations
- Project trajectory analysis
- Test coverage trends

### Phase 4: Frontend Integration (Week 4)
- Update chat interface
- Implement specialized prompt tiles
- Add BEX-specific visualizations

## Success Metrics

- **Accuracy**: 95%+ correct BEX project data filtering
- **Relevance**: All responses focus exclusively on BEX project
- **Completeness**: Answer all 10 core stakeholder questions
- **Performance**: <30 second response times for complex queries
- **Usability**: Intuitive chat interface with guided prompts

## Technical Considerations

### Data Quality Requirements
- Ensure BEX project data completeness
- Validate issue-PR linking accuracy
- Implement data freshness checks

### Performance Optimizations
- BEX-specific database indexes
- Cached aggregations for common metrics
- Progressive loading for large datasets

### Security & Compliance
- Client-level data isolation maintained
- BEX project access controls
- Audit logging for all queries

This focused approach ensures we deliver maximum value to stakeholders by providing precise, actionable insights about the BEX project specifically.
