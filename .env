# =============================================================================
# PULSE PLATFORM - REPLICA ARCHITECTURE CONFIGURATION
# =============================================================================
# This file contains configuration for the new replica architecture
# ðŸ”’ SECURITY: Contains shared configuration and secrets

# =============================================================================
# DATABASE CONFIGURATION - PRIMARY
# =============================================================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=pulse
POSTGRES_DATABASE=pulse_db

# =============================================================================
# DATABASE CONFIGURATION - READ REPLICA
# =============================================================================
POSTGRES_REPLICA_HOST=localhost
POSTGRES_REPLICA_PORT=5433
# Note: Uses same user/password/database as primary

# =============================================================================
# CONNECTION POOL SETTINGS - PRIMARY (Optimized for Enterprise)
# =============================================================================
DB_POOL_SIZE=20                    # Up from 5
DB_MAX_OVERFLOW=30                 # Up from 10
DB_POOL_TIMEOUT=60                 # Up from 30
DB_POOL_RECYCLE=3600              # Keep existing (1 hour)

# =============================================================================
# CONNECTION POOL SETTINGS - REPLICA (Optimized for Read Operations)
# =============================================================================
DB_REPLICA_POOL_SIZE=15           # Smaller for read operations
DB_REPLICA_MAX_OVERFLOW=20        # Less overflow needed for reads
DB_REPLICA_POOL_TIMEOUT=30        # Faster timeout for read queries

# =============================================================================
# REPLICA FEATURE FLAGS
# =============================================================================
USE_READ_REPLICA=true             # Enable/disable replica usage
REPLICA_FALLBACK_ENABLED=true     # Fallback to primary if replica fails

# =============================================================================
# SERVICE COMMUNICATION URLS
# =============================================================================
# Backend Service Settings
BACKEND_SERVICE_URL=http://localhost:3001
BACKEND_PORT=3001
BACKEND_HOST=localhost

# ETL Service Settings  
ETL_SERVICE_URL=http://localhost:8000
ETL_PORT=8000
ETL_HOST=localhost

# AI Service Settings
AI_SERVICE_URL=http://localhost:8001
AI_SERVICE_PORT=8001
AI_SERVICE_HOST=localhost

# Frontend App Settings
VITE_API_BASE_URL=http://localhost:3002
VITE_ETL_SERVICE_URL=http://localhost:8000
VITE_AI_SERVICE_URL=http://localhost:8001
VITE_APP_TITLE=Pulse Platform
VITE_ENVIRONMENT=development
VITE_ENABLE_REAL_TIME=true
VITE_ENABLE_AI_FEATURES=true

# =============================================================================
# APPLICATION SETTINGS (SHARED)
# =============================================================================
APP_VERSION=1.0.0
DEBUG=true
LOG_LEVEL=INFO
HOST=0.0.0.0
API_V1_STR=/api/v1

# =============================================================================
# JOB SCHEDULING CONFIGURATION
# =============================================================================
SCHEDULER_TIMEZONE=America/Chicago

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================
REDIS_URL=redis://localhost:6379/0
CACHE_TTL_SECONDS=3600

# =============================================================================
# TERMINAL SETTINGS
# =============================================================================
FORCE_COLOR=1

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8000

# =============================================================================
# DOCKER COMPOSE SETTINGS
# =============================================================================
COMPOSE_PROJECT_NAME=pulse-platform
DOCKER_BUILDKIT=1

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_FORMAT=json
LOG_FILE_ENABLED=true
LOG_FILE_PATH=./logs/app.log

# =============================================================================
# DEVELOPMENT TOOLS
# =============================================================================
ENABLE_CORS=true
ENABLE_SWAGGER=true

# =============================================================================
# AUTHENTICATION & SECURITY SECRETS
# =============================================================================
# JWT Configuration (Backend Service manages all JWT operations)
JWT_SECRET_KEY=A-JdcapOLIm3zoYtTkxA1vTMyNt7EEvH7jHCuDjAmqw
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60

# Session Configuration
SESSION_SECRET_KEY=your-session-secret-key-here
SESSION_EXPIRE_MINUTES=480

# General Security
SECRET_KEY=PxblNQcxjvD88NLz9yzSReko-jXJ0hHxip1fU1X_Z0g

# Encryption key for API tokens stored in database (same as ETL service)
ENCRYPTION_KEY=3zZnqdXh4u5QfSsLPRw4QN5hmy4K5kGnLv9nM2ruaBQ=

# =============================================================================
# INTEGRATION API CREDENTIALS
# =============================================================================
# Jira Configuration (WEX instance)
JIRA_URL=https://wexinc.atlassian.net
JIRA_USERNAME=gustavo.quinelato@wexinc.com
JIRA_TOKEN=ATATT3xFfGF0PrxXptKv2SNjaPWtS5quVjQ_lWlCMM-CNQ1kLfbFnh21-FVxNdEWzcfsP0wLWTf8lN01AuAiMF9WjnLqIkKnAoaGyWbLVRsVeX_Js0mLz7dNC7b2M08NLZk5_OnkGaItddYz9xl8MoBPX7TRnSPCLHeJ5DBQjqHSDipyW3FaWf0=D39DC932

# GitHub Configuration (WEX organization)
GITHUB_TOKEN=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

# Aha! Configuration (WEX instance)
AHA_URL=https://wexh.aha.io
AHA_TOKEN=9h_rRq_saUfJk7O8if8cHwZpSd6L5tYribRhO0YmiaE

# Azure DevOps Configuration (WEX organization)
AZDO_URL=https://dev.azure.com/WEXHealthTech
AZDO_TOKEN=BDWEMBIwtd9M97aEp9rqBeNRY2hcC3Mir7bxqMhP9dNVXFAhgXmpJQQJ99BEACAAAAAQzoiyAAASAZDONp4n

# =============================================================================
# ETL SERVICE CONFIGURATION
# =============================================================================
# Client name for ETL service (required for multi-instance setup)
CLIENT_NAME=WEX

# =============================================================================
# NOTES
# =============================================================================
# 1. This file contains shared configuration for all services
# 2. Replica settings enable read/write splitting for better performance
# 3. Connection pool settings are optimized for enterprise workloads
# 4. Feature flags allow gradual rollout of replica functionality
# 5. Never commit this file to version control in production
