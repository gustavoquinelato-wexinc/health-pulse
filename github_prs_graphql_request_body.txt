query GetRepositoryPRs($owner: String!, $name: String!, $cursor: String, $prCount: Int!) {
  repository(owner: $owner, name: $name) {
    pullRequests(
      first: $prCount
      after: $cursor
      orderBy: {field: UPDATED_AT, direction: DESC}
      states: [OPEN, CLOSED, MERGED]
    ) {
      pageInfo {
        hasNextPage
        endCursor
      }
      nodes {
        id
        number
        title
        body
        state
        createdAt
        updatedAt
        closedAt
        mergedAt
        mergeable
        merged
        isDraft
        url
        author {
          login
        }
        assignees(first: 10) {
          nodes {
            login
          }
        }
        reviewRequests(first: 10) {
          nodes {
            requestedReviewer {
              ... on User {
                login
              }
            }
          }
        }
        labels(first: 20) {
          nodes {
            name
            color
          }
        }
        baseRef {
          name
          target {
            oid
          }
        }
        headRef {
          name
          target {
            oid
          }
        }
        commits(first: 100) {
          pageInfo {
            hasNextPage
            endCursor
          }
          nodes {
            commit {
              oid
              message
              author {
                name
                email
                date
              }
              committer {
                name
                email
                date
              }
              additions
              deletions
              changedFiles
            }
          }
        }
        reviews(first: 100) {
          pageInfo {
            hasNextPage
            endCursor
          }
          nodes {
            id
            state
            submittedAt
            author {
              login
            }
            body
          }
        }
        comments(first: 100) {
          pageInfo {
            hasNextPage
            endCursor
          }
          nodes {
            id
            body
            createdAt
            updatedAt
            author {
              login
            }
          }
        }
        reviewThreads(first: 100) {
          pageInfo {
            hasNextPage
            endCursor
          }
          nodes {
            id
            isResolved
            comments(first: 50) {
              nodes {
                id
                body
                createdAt
                author {
                  login
                }
              }
            }
          }
        }
      }
    }
  }
}