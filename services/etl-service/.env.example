# =============================================================================
# PULSE PLATFORM - ETL SERVICE CONFIGURATION
# =============================================================================
# This file contains configuration for the ETL Service
# ðŸ”’ SECURITY: Contains service-specific configuration

# =============================================================================
# DATABASE CONFIGURATION - POSTGRESQL PRIMARY
# =============================================================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_database_password
POSTGRES_DATABASE=pulse_db

# =============================================================================
# DATABASE CONFIGURATION - POSTGRESQL READ REPLICA
# =============================================================================
POSTGRES_REPLICA_HOST=localhost
POSTGRES_REPLICA_PORT=5433
# Note: Uses same user/password/database as primary

# =============================================================================
# DATABASE CONFIGURATION - QDRANT VECTOR DATABASE (Phase 3)
# =============================================================================
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_GRPC_PORT=6334
QDRANT_TIMEOUT=120

# =============================================================================
# INFRASTRUCTURE CONFIGURATION
# =============================================================================

# Cache Configuration (Redis)
REDIS_URL=redis://localhost:6379/0
CACHE_TTL_SECONDS=3600

# AI Provider Configuration (WrenAI-inspired)
DEFAULT_EMBEDDING_PROVIDER=sentence_transformers
DEFAULT_LLM_PROVIDER=azure_openai
AI_CACHE_TTL=3600
AI_BATCH_SIZE=100
AI_MAX_RETRIES=3

# Service Communication URLs
BACKEND_SERVICE_URL=http://localhost:3001
BACKEND_PORT=3001
BACKEND_HOST=localhost

ETL_SERVICE_URL=http://localhost:8000
ETL_PORT=8000
ETL_HOST=localhost

AI_SERVICE_URL=http://localhost:8001
AI_SERVICE_PORT=8001
AI_SERVICE_HOST=localhost

AUTH_SERVICE_URL=http://localhost:4000
AUTH_SERVICE_PORT=4000
AUTH_SERVICE_HOST=localhost

# Application Settings
APP_VERSION=1.0.0
DEBUG=true
LOG_LEVEL=INFO
HOST=0.0.0.0
API_V1_STR=/api/v1

# =============================================================================
# JOB SCHEDULING CONFIGURATION
# =============================================================================
SCHEDULER_TIMEZONE=America/Chicago

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================
REDIS_URL=redis://localhost:6379/0
CACHE_TTL_SECONDS=3600

# =============================================================================
# TERMINAL SETTINGS
# =============================================================================
FORCE_COLOR=1

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:3001

# =============================================================================
# COOKIE CONFIGURATION
# =============================================================================
# Cookie domain for subdomain sharing
# Development: .localhost (shares across localhost:3000, localhost:8000, etc.)
# Production: .yourcompany.com (shares across app.yourcompany.com, etl.yourcompany.com, etc.)
COOKIE_DOMAIN=.localhost
COOKIE_SECURE=false
COOKIE_SAMESITE=lax

# =============================================================================
# DOCKER COMPOSE SETTINGS
# =============================================================================
COMPOSE_PROJECT_NAME=pulse-platform
DOCKER_BUILDKIT=1

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_FORMAT=json
LOG_FILE_ENABLED=true
LOG_FILE_PATH=./logs/app.log

# =============================================================================
# DEVELOPMENT TOOLS
# =============================================================================
ENABLE_CORS=true
ENABLE_SWAGGER=true

# =============================================================================
# ETL SERVICE - CLIENT INSTANCE
# =============================================================================
# ðŸ”’ SECURITY: Contains ETL secrets for specific client ONLY
# Used by: ETL Service instance serving a specific client

# =============================================================================
# SERVICE IDENTIFICATION
# =============================================================================
APP_NAME=Pulse ETL Service - YourClient
SERVICE_NAME=etl-yourclient

# =============================================================================
# CLIENT CONFIGURATION
# =============================================================================
# CLIENT_NAME is looked up in database (case-insensitive)
CLIENT_NAME=YourClientName

# =============================================================================
# ETL-SPECIFIC SECURITY SECRETS
# =============================================================================
# Encryption key for API tokens stored in database
ENCRYPTION_KEY=your-base64-encoded-encryption-key-here

# =============================================================================
# INTEGRATION CREDENTIALS - MOVED TO DATABASE
# =============================================================================
# NOTE: All integration credentials (URLs, usernames, tokens, projects) are now
# stored in the database (integrations table) for security and centralized management.
# No integration credentials needed in .env files.

# =============================================================================
# INTERNAL SERVICE COMMUNICATION (Backend â†’ ETL)
# =============================================================================
# Shared secret for internal cache invalidation calls from Backend
ETL_INTERNAL_SECRET=your-internal-secret-key-here
